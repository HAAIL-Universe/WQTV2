<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Picker - WQT</title>
  <link rel="stylesheet" href="styles/theme.css">
  <link rel="stylesheet" href="styles/role.css">
  <script type="module" src="scripts/role.js"></script>
</head>
<body>
  <header class="role-header">Picker</header>
  <!-- status strip and last updated will be injected by JS -->
  <main class="role-shell picker-shell">
    <nav class="role-tabs picker-tabs">
      <button class="tab-btn pill-tab active" data-tab="quickcalc">QuickCalc</button>
      <button class="tab-btn pill-tab" data-tab="tracker">Tracker</button>
      <span class="user-pill" id="user-pill">--</span>
    </nav>
    <div class="metrics-bar">
      <div class="metric metric-live-rate">
        <div class="metric-label">Live Rate</div>
        <div class="metric-value" id="live-rate-display">—</div>
      </div>
      <div class="metric metric-total-units">
        <div class="metric-label">Total Units</div>
        <div class="metric-value" id="total-units-display">0</div>
      </div>
      <div class="metric metric-perf-score">
        <div class="metric-label">Perf Score</div>
        <div class="metric-value" id="perf-score-display">—</div>
      </div>
    </div>
    <!-- Tracker Panel (hidden unless Tracker tab active) -->
    <section class="tracker-panel" id="trackerPanel" style="display:none;">
      <div class="trk-header-row">
        <span id="trkOrderLabel">—</span>
        <button class="trk-btn" id="btnLogWrap">Log Wrap</button>
      </div>
      <div class="trk-summary-row">
        <span>Qty: <span id="trkQty">0</span></span>
        <span>Locations: <span id="trkLocations">—</span></span>
        <span>Pallets: <span id="trkPallets">—</span></span>
        <span>Rate: <span id="trkRate">—</span></span>
        <span>ETA: <span id="trkETA">—</span></span>
      </div>
      <div class="trk-progress-bar">
        <div class="trk-progress-bg" style="width:100%;background:#eee;height:18px;border-radius:9px;overflow:hidden;">
          <div id="trkProgressFill" style="height:18px;width:0;background:#2ecc40;transition:width 0.3s;"></div>
        </div>
        <span id="trkProgressPct" style="margin-left:0.5em;">—</span>
      </div>
      <div class="trk-log-list" id="trkLogList"></div>
      <input id="scanInput" type="text" autocomplete="off" autocapitalize="off" spellcheck="false" style="position:absolute;left:-9999px;" tabindex="0" />
      <div class="trk-actions-row">
        <button class="trk-btn" id="btnLogDelay">Log / Delay</button>
        <button class="trk-btn" id="btnUndo">Undo</button>
        <button class="trk-btn" id="btnSharedPick">Shared Pick</button>
        <button class="trk-btn" id="btnBreak">Break</button>
      </div>
    </section>
    <section class="assignment-panel" id="assignment-panel">
      <!-- Assignment state will be rendered here by JS -->
    </section>
    <div class="picker-actions-row">
      <button class="action-btn" id="log-delay-btn">Log / Delay</button>
      <button class="action-btn" id="shared-pick-btn">Shared Pick</button>
      <button class="action-btn primary" id="start-resume-btn">Start</button>
    </div>
  </main>
</body>
</html>
